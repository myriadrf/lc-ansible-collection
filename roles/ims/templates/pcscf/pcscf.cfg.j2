listen=udp:{{ ims_pcscf_bind_addr }}:5060
listen=tcp:{{ ims_pcscf_bind_addr }}:5060

alias=pcscf.ims.mnc{{ ims_mnc_3}}.mcc{{ ims_mcc }}.3gppnetwork.org

#!define IPSEC_LISTEN_ADDR "{{ ims_pcscf_bind_addr }}"
#!define IPSEC_CLIENT_PORT 5100
#!define IPSEC_SERVER_PORT 6100
#!define IPSEC_MAX_CONN 10

#!define IPSEC_DELETE_UNUSED_TUNNELS 1

#!define CONTACT_DELETE_DELAY 10

#!define IPSEC_FORWARD_FLAGS 897

#!define RX_IMS_REG_DIALOG_DIRECTION 3
#!define RX_AF_SIGNALING_IP "{{ ims_pcscf_bind_addr }}"

#!substdef "/N5_BIND_IP/{{ ims_pcscf_bind_addr }}/g"
#!substdef "/N5_BIND_PORT/7777/g"

#!substdef "/SCP_BIND_IP/{{ ims_pcscf_scp_addr }}/g"
#!substdef "/SCP_BIND_PORT/7777/g"

#!define MY_WS_PORT 80
#!define MY_WSS_PORT 443

#!define PCSCF_URL "sip:pcscf.ims.mnc{{ ims_mnc_3 }}.mcc{{ ims_mcc }}.3gppnetwork.org:5060"

#!define TCP_PROCESSES 8

#!subst "/NETWORKNAME/ims.mnc{{ ims_mnc_3 }}.mcc{{ ims_mcc }}.3gppnetwork.org/g"
#!subst "/HOSTNAME/pcscf.ims.mnc{{ ims_mnc_3 }}.mcc{{ ims_mcc }}.3gppnetwork.org/g"
#!subst "/PCRF_REALM/epc.mnc{{ ims_mnc_3 }}.mcc{{ ims_mcc }}.3gppnetwork.org/g"

#!define DB_URL "mysql://{{ ims_pcscf_mysql_username }}:{{ ims_pcscf_mysql_password }}@{{ ims_mysql_addr }}/{{ ims_pcscf_mysql_db_name }}"
#!define SQLOPS_DBURL "pcscf=>mysql://{{ ims_pcscf_mysql_username }}:{{ ims_pcscf_mysql_password }}@{{ ims_mysql_addr }}/{{ ims_pcscf_mysql_db_name }}"

#!define WITH_NAT
#!define WITH_NATPING
#!define FORCE_RTPRELAY
#!define WITH_RX
#!define WITH_TCP
#!define WITH_IPSEC
#!define WITH_IMS_HDR_CACHE
#!define WITH_PING_UDP
#!define WITH_PING_TCP

{% if ims_pcscf_debug is defined and ims_pcscf_debug | bool %}
#!define WITH_DEBUG
{% endif %}
